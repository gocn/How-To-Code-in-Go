<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="理解 Go 中的数组和切片 # 介绍 # 在 Go 中，数组和切片是数据结构，由元素的有序序列组成。当你想处理许多相关的值时，这些数据集合是很好的选择。它们可以让你把相同类型的数据放在一起，降低代码量，并同时对多个值执行相同的方法和操作。
虽然 Go 中的数组和切片都是元素的有序序列，但两者之间有很大的区别。Go 中的数组是一个数据结构，由一个有序的元素序列组成，其容量在创建时已经定义。一旦数组分配了它的大小，就不能再改变它的大小。另一方面，切片是数组的可变长度版本，为使用这些数据结构的开发者提供更多的灵活性。切片其实是你在其他语言中认为的数组。
鉴于这些差异，在一些特定的情况下，你会选择使用一个替代另一个。如果你是 Go 的新手，确定何时使用它们可能会让人困惑。尽管切片的多功能性使其在大多数情况下成为更合适的选择，但在一些特殊情况下，数组可以优化程序的性能。
本文将详细介绍数组和切片，以便在这些数据类型之间做出适当的选择。此外，你将回顾声明和处理数组和切片的常用方法。本教程将首先提供对数组的描述以及如何操作它们，然后解释切片以及它们的区别。
数组 # 数组是具有固定数量元素的数据结构。因为数组的大小是静态的，所以数据结构只需要分配一次内存，而可变长度的数据结构则必须动态地分配内存，以便将来可以变大或变小。尽管数组的固定长度会使它们在工作时有些僵硬，但一次性的内存分配可以提高程序的速度和性能。正因为如此，开发人员在优化程序时通常使用数组，在这种情况下，数据结构不需要可变数量的元素。
定义一个数组 # 数组的定义是在大括号 [] 中声明数组的大小，然后是各元素的数据类型。Go 中的数组必须使其所有元素都是相同的数据类型。在数据类型之后，你可以用大括号 { } 来声明数组元素的单个值。
下面是声明一个数组的一般模式：
[capacity]data_type{element_values} 注意： 重要的是要记住，每一个新数组的声明都会创建一个不同的类型。所以，尽管 [2]int 和 [3]int 都有整数元素，但它们不同的长度使得它们的数据类型不兼容。
如果你不声明数组元素的值，默认为零值，这意味着数组的元素将是空的。对于整数，用 0 表示，对于字符串，用空字符串表示。
例如，下面的数组 numbers 有三个整数元素，但还没有值：
var numbers [3]int 如果你打印 numbers，会得到以下输出：
Output [0 0 0] 如果你想在创建数组时指定元素的值，需要将这些值放在大括号里。一个有设定值的字符串数组看起来像这样：
[4]string{&#34;blue coral&#34;, &#34;staghorn coral&#34;, &#34;pillar coral&#34;, &#34;elkhorn coral&#34;} 可以将一个数组存储在一个变量中并打印出来：
coral := [4]string{&#34;blue coral&#34;, &#34;staghorn coral&#34;, &#34;pillar coral&#34;, &#34;elkhorn coral&#34;} fmt."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="理解 Go 中的数组和切片 # 介绍 # 在 Go 中，数组和切片是数据结构，由元素的有序序列组成。当你想处理许多相关的值时，这些数据集合是很好的选择。它们可以让你把相同类型的数据放在一起，降低代码量，并同时对多个值执行相同的方法和操作。
虽然 Go 中的数组和切片都是元素的有序序列，但两者之间有很大的区别。Go 中的数组是一个数据结构，由一个有序的元素序列组成，其容量在创建时已经定义。一旦数组分配了它的大小，就不能再改变它的大小。另一方面，切片是数组的可变长度版本，为使用这些数据结构的开发者提供更多的灵活性。切片其实是你在其他语言中认为的数组。
鉴于这些差异，在一些特定的情况下，你会选择使用一个替代另一个。如果你是 Go 的新手，确定何时使用它们可能会让人困惑。尽管切片的多功能性使其在大多数情况下成为更合适的选择，但在一些特殊情况下，数组可以优化程序的性能。
本文将详细介绍数组和切片，以便在这些数据类型之间做出适当的选择。此外，你将回顾声明和处理数组和切片的常用方法。本教程将首先提供对数组的描述以及如何操作它们，然后解释切片以及它们的区别。
数组 # 数组是具有固定数量元素的数据结构。因为数组的大小是静态的，所以数据结构只需要分配一次内存，而可变长度的数据结构则必须动态地分配内存，以便将来可以变大或变小。尽管数组的固定长度会使它们在工作时有些僵硬，但一次性的内存分配可以提高程序的速度和性能。正因为如此，开发人员在优化程序时通常使用数组，在这种情况下，数据结构不需要可变数量的元素。
定义一个数组 # 数组的定义是在大括号 [] 中声明数组的大小，然后是各元素的数据类型。Go 中的数组必须使其所有元素都是相同的数据类型。在数据类型之后，你可以用大括号 { } 来声明数组元素的单个值。
下面是声明一个数组的一般模式：
[capacity]data_type{element_values} 注意： 重要的是要记住，每一个新数组的声明都会创建一个不同的类型。所以，尽管 [2]int 和 [3]int 都有整数元素，但它们不同的长度使得它们的数据类型不兼容。
如果你不声明数组元素的值，默认为零值，这意味着数组的元素将是空的。对于整数，用 0 表示，对于字符串，用空字符串表示。
例如，下面的数组 numbers 有三个整数元素，但还没有值：
var numbers [3]int 如果你打印 numbers，会得到以下输出：
Output [0 0 0] 如果你想在创建数组时指定元素的值，需要将这些值放在大括号里。一个有设定值的字符串数组看起来像这样：
[4]string{&#34;blue coral&#34;, &#34;staghorn coral&#34;, &#34;pillar coral&#34;, &#34;elkhorn coral&#34;} 可以将一个数组存储在一个变量中并打印出来：
coral := [4]string{&#34;blue coral&#34;, &#34;staghorn coral&#34;, &#34;pillar coral&#34;, &#34;elkhorn coral&#34;} fmt."><meta property="og:type" content="article"><meta property="og:url" content="https://gocn.github.io/How-To-Code-in-Go/docs/16-Understanding_Arrays_and_Slices_in_Go/"><meta property="article:section" content="docs"><title>16 Understanding Arrays and Slices in Go | How To Code in Go</title><link rel=manifest href=/How-To-Code-in-Go/manifest.json><link rel=icon href=/How-To-Code-in-Go/favicon.png type=image/x-icon><link rel=stylesheet href=/How-To-Code-in-Go/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/How-To-Code-in-Go/flexsearch.min.js></script>
<script defer src=/How-To-Code-in-Go/zh.search.min.2ccdafc211784f64f63652981924d269b4ff643413814bfc0d5743573b76ade7.js integrity="sha256-LM2vwhF4T2T2NlKYGSTSabT/ZDQTgUv8DVdDVzt2rec=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/How-To-Code-in-Go/><span>How To Code in Go</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><strong>开始学习</strong></p><ul><li><a href=/How-To-Code-in-Go/docs/01-How_To_Install_Go_and_Set_Up_a_Local-Programming_Environment_on_Ubuntu_18.04_DigitalOcean/>1. 如何在 Ubuntu 18.04 上安装 Go 和设置本地编程环境</a></li><li><a href=/How-To-Code-in-Go/docs/02-How_To_Install_Go_and_Set_Up_a_Local_Programming_Environment_on_macOS_DigitalOcean/>2. 如何在 macOS 上安装 Go 和设置本地编程环境</a></li><li><a href=/How-To-Code-in-Go/docs/03-How_To_Install_Go_and_Set_Up_a_Local_Programming_Environment_on_Windows_10_DigitalOcean/>3. 如何在 Windows 10 上安装 Go 和设置本地编程环境</a></li><li><a href=/How-To-Code-in-Go/docs/04-How_To_Write_Your_First_Program_in_Go_DigitalOcean/>4. 如何用 Go 编写你的第一个程序</a></li><li><a href=/How-To-Code-in-Go/docs/05-Understanding_the_GOPATH/>5. 理解 GOPATH</a></li><li><a href=/How-To-Code-in-Go/docs/06-How_To_Write_Comments_in_Go/>6. 如何在 Go 中写注释</a></li><li><a href=/How-To-Code-in-Go/docs/07-Understanding_Data_Types_in_Go/>7. 理解 Go 的数据类型</a></li><li><a href=/How-To-Code-in-Go/docs/08-An_Introduction_to_Working_with_Strings_in_Go/>8. Go 中处理字符串的介绍</a></li><li><a href=/How-To-Code-in-Go/docs/09-How_To_Format_Strings_in_Go/>9. 如何在 Go 中格式化字符串</a></li><li><a href=/How-To-Code-in-Go/docs/10-An_Introduction_to_the_Strings_Package_in_Go/>10. 介绍 Go 中的 Strings 包</a></li><li><a href=/How-To-Code-in-Go/docs/11-How_To_Use_Variables_and_Constants_in_Go/>11. 如何在 Go 中使用变量和常量</a></li><li><a href=/How-To-Code-in-Go/docs/12-How_To_Convert_Data_Types_in_Go/>12. 如何在 Go 中转换数据类型</a></li><li><a href=/How-To-Code-in-Go/docs/13-How_To_Do_Math_in_Go_with_Operators/>13. 如何用运算符在 Go 中做数学计算</a></li><li><a href=/How-To-Code-in-Go/docs/14-Understanding_Boolean_Logic_in_Go/>14. 理解 Go 中的布尔逻辑</a></li><li><a href=/How-To-Code-in-Go/docs/15-Understanding_Maps_in_Go/>15. 理解 Go 中的 Map</a></li><li><a href=/How-To-Code-in-Go/docs/16-Understanding_Arrays_and_Slices_in_Go/ class=active>16. 理解 Go 中的数组和切片</a></li><li><a href=/How-To-Code-in-Go/docs/17-Handling_Errors_in_Go_DigitalOcean/>17. 在 Go 中处理错误</a></li><li><a href=/How-To-Code-in-Go/docs/18-Creating_Custom_Errors_in_Go_DigitalOcean/>18. 在 Go 中创建自定义错误</a></li><li><a href=/How-To-Code-in-Go/docs/19-Handling_Panics_in_Go-_DigitalOcean/>19 在 Go 中处理恐慌</a></li><li><a href=/How-To-Code-in-Go/docs/20-Importing_Packages_in_Go_DigitalOcean/>20. 在 Go 中导入包</a></li><li><a href=/How-To-Code-in-Go/docs/21-How_To_Write_Packages_in_Go/>21. 如何在 Go 中编写包</a></li><li><a href=/How-To-Code-in-Go/docs/22-Understanding_Package_Visibility_in_Go/>22. 理解 Go 中包的可见性</a></li><li><a href=/How-To-Code-in-Go/docs/23-How_To_Write_Conditional_Statements_in_Go/>23. 如何在 Go 中编写条件语句</a></li><li><a href=/How-To-Code-in-Go/docs/24-How_To_Write_Switch_Statements_in_Go/>24. 如何在 Go 中编写 Switch 语句</a></li><li><a href=/How-To-Code-in-Go/docs/25-How_To_Construct_For_Loops_in_Go/>25. 如何在 Go 中构造 for 循环</a></li><li><a href=/How-To-Code-in-Go/docs/26-Using_Break_and_Continue_Statements_When_Working_with_Loops_in_Go/>26. 在循环中使用 Break 和 Continue</a></li><li><a href=/How-To-Code-in-Go/docs/27-How_To_Define_and_Call_Functions_in_Go/>27. 如何在 Go 中定义并调用函数</a></li><li><a href=/How-To-Code-in-Go/docs/28-How_To_Use_Variadic_Functions_in_Go/>28. 如何在 Go 中使用可变参数函数</a></li><li><a href=/How-To-Code-in-Go/docs/29-Understanding_defer_in_Go/>29. 理解 Go 中的 defer</a></li><li><a href=/How-To-Code-in-Go/docs/30-Understanding_init_in_Go/>30. 理解 Go 中的 init</a></li><li><a href=/How-To-Code-in-Go/docs/31-Customizing_Go_Binaries_with_Build_Tags/>31. 用构建标签定制 Go 二进制文件</a></li><li><a href=/How-To-Code-in-Go/docs/32-Understanding_Pointers_in_Go/>32. 理解 Go 中的指针</a></li><li><a href=/How-To-Code-in-Go/docs/33-Defining_Structs_in_Go/>33. 在 Go 中定义结构体</a></li><li><a href=/How-To-Code-in-Go/docs/34-Defining_Methods_in_Go/>34. 在 Go 中定义方法</a></li><li><a href=/How-To-Code-in-Go/docs/35-How_To_Build_and_Install_Go_Programs/>35. 如何构建和安装 Go 程序</a></li><li><a href=/How-To-Code-in-Go/docs/36-How_To_Use_Struct_Tags_in_Go/>36. 如何在 Go 中使用结构体标签</a></li><li><a href=/How-To-Code-in-Go/docs/37-How_To_Use_Interfaces_in_Go/>37. 如何在 Go 使用 interface</a></li><li><a href=/How-To-Code-in-Go/docs/38-Building_Go_Applications_for_Different_Operating_Systems_and_Architectures/>38. 在不同的操作系统和架构编译 Go 应用</a></li><li><a href=/How-To-Code-in-Go/docs/39-Using_ldflags_to_Set_Version_Information_for_Go_Applications/>39. 用 ldflags 设置 Go 应用程序的版本信息</a></li><li><a href=/How-To-Code-in-Go/docs/40-How_To_Use_the_Flag_Package_in_Go/>40. 在 Go 里面如何使用 Flag 包</a></li><li><a href=/How-To-Code-in-Go/docs/41-How_to_Use_Go_Modules/>41. 如何使用 Go 模块</a></li><li><a href=/How-To-Code-in-Go/docs/42-How_to_Distribute_Go_Modules/>42. 如何分发 Go 模块</a></li><li><a href=/How-To-Code-in-Go/docs/43-How_to_Use_a_Private_Go_Module_in_Your_Own_Project/>43. 如何在自己的项目中使用私有的Go模块</a></li></ul></li><li><p><strong>附录：资源</strong></p></li><li><p><a href=https://github.com/gocn/How-To-Code-in-Go><strong>Fork on Github</strong></a></p></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/How-To-Code-in-Go/svg/menu.svg class=book-icon alt=Menu></label>
<strong>16 Understanding Arrays and Slices in Go</strong>
<label for=toc-control><img src=/How-To-Code-in-Go/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#介绍>介绍</a></li><li><a href=#数组>数组</a></li><li><a href=#定义一个数组>定义一个数组</a></li><li><a href=#索引数组和切片>索引数组和切片</a></li><li><a href=#修改元素>修改元素</a></li><li><a href=#使用-len-计算元素个数>使用 <code>len</code> 计算元素个数</a></li><li><a href=#使用-append-追加元素>使用 <code>append()</code> 追加元素</a></li><li><a href=#切片>切片</a><ul><li><a href=#定义一个切片>定义一个切片</a></li></ul></li><li><a href=#将数组切片>将数组切片</a></li><li><a href=#数组转换为切片>数组转换为切片</a><ul><li><a href=#从切片中删除元素>从切片中删除元素</a></li></ul></li><li><a href=#使用-cap-获取切片的容量>使用 <code>cap()</code> 获取切片的容量</a></li><li><a href=#构建多维切片>构建多维切片</a></li><li><a href=#总结>总结</a></li></ul></nav></aside></header><article class=markdown><h1 id=理解-go-中的数组和切片>理解 Go 中的数组和切片
<a class=anchor href=#%e7%90%86%e8%a7%a3-go-%e4%b8%ad%e7%9a%84%e6%95%b0%e7%bb%84%e5%92%8c%e5%88%87%e7%89%87>#</a></h1><h2 id=介绍>介绍
<a class=anchor href=#%e4%bb%8b%e7%bb%8d>#</a></h2><p>在 Go 中，数组和切片是<a href=https://en.wikipedia.org/wiki/Data_structure>数据结构</a>，由元素的有序序列组成。当你想处理许多相关的值时，这些数据集合是很好的选择。它们可以让你把相同类型的数据放在一起，降低代码量，并同时对多个值执行相同的方法和操作。</p><p>虽然 Go 中的数组和切片都是元素的有序序列，但两者之间有很大的区别。Go 中的数组是一个<a href=https://en.wikipedia.org/wiki/Data_structure>数据结构</a>，由一个有序的元素序列组成，其容量在创建时已经定义。一旦数组分配了它的大小，就不能再改变它的大小。另一方面，切片是数组的可变长度版本，为使用这些数据结构的开发者提供更多的灵活性。切片其实是你在其他语言中认为的数组。</p><p>鉴于这些差异，在一些特定的情况下，你会选择使用一个替代另一个。如果你是 Go 的新手，确定何时使用它们可能会让人困惑。尽管切片的多功能性使其在大多数情况下成为更合适的选择，但在一些特殊情况下，数组可以优化程序的性能。</p><p>本文将详细介绍数组和切片，以便在这些数据类型之间做出适当的选择。此外，你将回顾声明和处理数组和切片的常用方法。本教程将首先提供对数组的描述以及如何操作它们，然后解释切片以及它们的区别。</p><h2 id=数组>数组
<a class=anchor href=#%e6%95%b0%e7%bb%84>#</a></h2><p>数组是具有固定数量元素的数据结构。因为数组的大小是静态的，所以数据结构只需要分配一次内存，而可变长度的数据结构则必须动态地分配内存，以便将来可以变大或变小。尽管数组的固定长度会使它们在工作时有些僵硬，但一次性的内存分配可以提高程序的速度和性能。正因为如此，开发人员在优化程序时通常使用数组，在这种情况下，数据结构不需要可变数量的元素。</p><h2 id=定义一个数组>定义一个数组
<a class=anchor href=#%e5%ae%9a%e4%b9%89%e4%b8%80%e4%b8%aa%e6%95%b0%e7%bb%84>#</a></h2><p>数组的定义是在大括号 <code>[]</code> 中声明数组的大小，然后是各元素的数据类型。Go 中的数组必须使其所有元素都是相同的<a href=/How-To-Code-in-Go/docs/07-Understanding_Data_Types_in_Go/>数据类型</a>。在数据类型之后，你可以用大括号 <code>{ }</code> 来声明数组元素的单个值。</p><p>下面是声明一个数组的一般模式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>[<span style=color:#a6e22e>capacity</span>]<span style=color:#a6e22e>data_type</span>{<span style=color:#a6e22e>element_values</span>}
</span></span></code></pre></div><p><strong>注意：</strong> 重要的是要记住，每一个新数组的声明都会创建一个不同的类型。所以，尽管 <code>[2]int</code> 和 <code>[3]int</code> 都有整数元素，但它们不同的长度使得它们的数据类型不兼容。</p><p>如果你不声明数组元素的值，默认为零值，这意味着数组的元素将是空的。对于整数，用 <code>0</code> 表示，对于字符串，用空字符串表示。</p><p>例如，下面的数组 <code>numbers</code> 有三个整数元素，但还没有值：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>numbers</span> [<span style=color:#ae81ff>3</span>]<span style=color:#66d9ef>int</span>
</span></span></code></pre></div><p>如果你打印 <code>numbers</code>，会得到以下输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span>]
</span></span></code></pre></div><p>如果你想在创建数组时指定元素的值，需要将这些值放在大括号里。一个有设定值的字符串数组看起来像这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>[<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;staghorn coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>}
</span></span></code></pre></div><p>可以将一个数组存储在一个变量中并打印出来：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;staghorn coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>)
</span></span></code></pre></div><p>打印结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>blue</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>staghorn</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>pillar</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>elkhorn</span> <span style=color:#a6e22e>coral</span>]
</span></span></code></pre></div><p>请注意，当数组被打印出来时，数组中的元素之间没有划分，因此很难分辨一个元素在哪里结束，另一个元素在哪里开始。由于这个原因，有时使用 <code>fmt.Printf</code> 函数是很有帮助的，它可以在打印到屏幕前对字符串进行格式化。在该命令中提供 <code>%q</code> 谓词并加上引号：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>coral</span>)
</span></span></code></pre></div><p>打印的结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;staghorn coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>]
</span></span></code></pre></div><p>现在每个元素都有引号。<code>\n</code> 谓词指示格式化会在每行结束打印换行符。</p><p>有了关于如何声明数组及其组成的概念，现在可以继续学习如何用索引号指定数组中的元素。</p><h2 id=索引数组和切片>索引数组和切片
<a class=anchor href=#%e7%b4%a2%e5%bc%95%e6%95%b0%e7%bb%84%e5%92%8c%e5%88%87%e7%89%87>#</a></h2><p>数组中的每个元素（也包括切片）都可以通过索引单独调用。每个元素都对应着一个索引号，它是一个从索引号 <code>0</code> 开始向上计数的 <code>int</code> 值。</p><p>在下面的例子中，我们将使用一个数组，但是你也可以使用一个切片，因为它们在索引方式上是相同的。</p><p>对于数组 <code>coral</code> 来说，索引看起来像这样。</p><p>“blue coral” “staghorn coral” “pillar coral” “elkhorn coral”</p><p>0 1 2 3</p><p>第一个元素，字符串 <code>"blue coral"</code>，从索引 <code>0</code> 开始，在索引为 <code>3</code> 的元素 <code>"elkhorn coral"</code>结束。</p><p>因为切片或数组中的每个元素都有一个相应的索引号，我们能够以与其他顺序数据类型相同的方式访问和操作它们。</p><p>现在我们可以通过引用索引号来调用切片 中的一个离散元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>])
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>staghorn</span> <span style=color:#a6e22e>coral</span>
</span></span></code></pre></div><p>这个切片的索引号范围是 <code>0-3</code>，如前表所示。所以要单独调用一个元素的话，我们要像这样引用索引号：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#e6db74>&#34;blue coral&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>] = <span style=color:#e6db74>&#34;staghorn coral&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>2</span>] = <span style=color:#e6db74>&#34;pillar coral&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>3</span>] = <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>
</span></span></code></pre></div><p>我们调用数组 <code>coral</code> 的索引号如果大于 <code>3</code>，它就会超出范围并 panic，因为它是无效的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>18</span>])
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>panic</span>: <span style=color:#a6e22e>runtime</span> <span style=color:#66d9ef>error</span>: <span style=color:#a6e22e>index</span> <span style=color:#a6e22e>out</span> <span style=color:#a6e22e>of</span> <span style=color:#66d9ef>range</span>
</span></span></code></pre></div><p>当对数组或切片进行索引时，你必须始终使用正数。不像有些语言允许你用负数进行反向索引，在 Go 中这样做会导致错误：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>invalid</span> <span style=color:#a6e22e>array</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> (<span style=color:#a6e22e>index</span> <span style=color:#a6e22e>must</span> <span style=color:#a6e22e>be</span> <span style=color:#a6e22e>non</span><span style=color:#f92672>-</span><span style=color:#a6e22e>negative</span>)
</span></span></code></pre></div><p>我们可以使用 <code>+</code> 操作符将数组或切片中的字符串元素与其他字符串连接起来：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Sammy loves &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>0</span>])
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Sammy</span> <span style=color:#a6e22e>loves</span> <span style=color:#a6e22e>blue</span> <span style=color:#a6e22e>coral</span>    
</span></span></code></pre></div><p>我们能够将索引号为 <code>0</code> 的字符串元素与 <code>"Sammy loves"</code> 的字符串连接起来。</p><p>有了与数组或切片中的元素相对应的索引号，我们就能够单独访问每个元素，并对这些元素进行操作。为了证明这一点，我们接下来将看看如何修改某个索引的元素。</p><h2 id=修改元素>修改元素
<a class=anchor href=#%e4%bf%ae%e6%94%b9%e5%85%83%e7%b4%a0>#</a></h2><p>我们可以使用索引号来给元素赋值来改变数组或切片中的元素。这使我们对切片和数组中的数据有了更大的控制，并将允许我们以编程方式操作单个元素。</p><p>如果我们想把数组 <code>coral</code> 中索引为 <code>1</code> 的元素的字符串值从 <code>"staghorn coral"</code> 改为 <code>"foliose coral"</code>，我们可以这样做：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>] = <span style=color:#e6db74>&#34;foliose coral&#34;</span>
</span></span></code></pre></div><p>现在，当我们打印 <code>coral</code> 时，数组将是不同的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>coral</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>]
</span></span></code></pre></div><p>现在你知道了如何操作数组或切片的单个元素，让我们来看看几个函数，它们将在处理集合数据类型时给你更多的灵活性。</p><h2 id=使用-len-计算元素个数>使用 <code>len</code> 计算元素个数
<a class=anchor href=#%e4%bd%bf%e7%94%a8-len-%e8%ae%a1%e7%ae%97%e5%85%83%e7%b4%a0%e4%b8%aa%e6%95%b0>#</a></h2><p>在 Go 中，<code>len()</code> 是一个内置函数，用来帮助你处理数组和切片。像处理字符串一样，你可以用数组或切片作为参数通过使用 <code>len()</code> 来计算一个数组或切片的长度。</p><p>例如，要想知道 <code>coral</code> 数组中有多少个元素，你可以使用：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>len(<span style=color:#a6e22e>coral</span>)
</span></span></code></pre></div><p>如果你打印出数组 <code>coral</code> 的长度，你会收到以下输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span>
</span></span></code></pre></div><p>可以看到数据类型为 <code>int</code> 的数组长度为 <code>4</code>，这是正确的，因为数组 <code>coral</code> 有四个元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;foliose coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>}    
</span></span></code></pre></div><p>如果你创建一个有更多元素的整数数组，你也可以对其使用 <code>len()</code> 函数：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>numbers</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>13</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(len(<span style=color:#a6e22e>numbers</span>))
</span></span></code></pre></div><p>得到的输出如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>13</span>
</span></span></code></pre></div><p>尽管这些例子数组的元素相对较少，但在元素非常多的数组中 <code>len()</code> 函数特别有用。</p><p>接下来，我们将介绍如何向集合数据类型添加一个元素，并展示由于数组的固定长度，追加这些静态数据类型将导致错误。</p><h2 id=使用-append-追加元素>使用 <code>append()</code> 追加元素
<a class=anchor href=#%e4%bd%bf%e7%94%a8-append-%e8%bf%bd%e5%8a%a0%e5%85%83%e7%b4%a0>#</a></h2><p><code>append()</code> 是 Go 中的一个内置方法，可以向集合数据类型添加元素。然而，当这个方法用于数组时，将无法工作。如前所述，数组与切片不同的是数组的大小不能被修改。这意味着，虽然你可以改变数组中元素的值，但在定义了数组后，你不能使其变大或变小。</p><p>让我们看看你的 <code>coral</code> 数组：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;foliose coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>}   
</span></span></code></pre></div><p>假设你想把 <code>"black coral"</code> 这个元素添加到这个数组中。如果你试图用 <code>append()</code> 函数在数组中输入：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span> = append(<span style=color:#a6e22e>coral</span>, <span style=color:#e6db74>&#34;black coral&#34;</span>)
</span></span></code></pre></div><p>你将得到一个错误的输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>first</span> <span style=color:#a6e22e>argument</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>append</span> <span style=color:#a6e22e>must</span> <span style=color:#a6e22e>be</span> <span style=color:#a6e22e>slice</span>; <span style=color:#a6e22e>have</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>string</span>
</span></span></code></pre></div><p>为了解决这个问题，我们进一步了解切片的数据类型，如何定义一个切片，以及如何从数组转换为切片。</p><h2 id=切片>切片
<a class=anchor href=#%e5%88%87%e7%89%87>#</a></h2><p>切片是 Go 中的一种数据类型，它是一个可变的数据结构，有序的元素序列。由于切片的大小是可变的，所以在使用时有更大的灵活性；当处理可能需要扩容或缩容的数据集合时，使用切片可以确保你的代码在操作集合的长度时不会出现错误。在大多数情况下，与数组相比，这种可变性值得切片有时可能需要内存重新分配。当你需要存储大量的元素或对元素进行迭代，并且你希望能够随时修改这些元素时，切片数据类型是你的首选。</p><h3 id=定义一个切片>定义一个切片
<a class=anchor href=#%e5%ae%9a%e4%b9%89%e4%b8%80%e4%b8%aa%e5%88%87%e7%89%87>#</a></h3><p>切片的定义是通过声明数据类型，前面是一组空的方括号（<code>[]</code>）和大括号之间的元素列表（<code>{}</code>）。你会注意到，与需要在大括号之间加入 <code>int</code> 来声明特定长度的数组不同，一个切片在大括号之间没有任何东西来代表其可变长度。</p><p>我们来创建一个包含字符串数据类型元素的切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>seaCreatures</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;shark&#34;</span>, <span style=color:#e6db74>&#34;cuttlefish&#34;</span>, <span style=color:#e6db74>&#34;squid&#34;</span>, <span style=color:#e6db74>&#34;mantis shrimp&#34;</span>, <span style=color:#e6db74>&#34;anemone&#34;</span>}
</span></span></code></pre></div><p>当我们打印出切片时，就可以看到切片中的元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>seaCreatures</span>)
</span></span></code></pre></div><p>可以得到如下的输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;shark&#34;</span> <span style=color:#e6db74>&#34;cuttlefish&#34;</span> <span style=color:#e6db74>&#34;squid&#34;</span> <span style=color:#e6db74>&#34;mantis shrimp&#34;</span> <span style=color:#e6db74>&#34;anemone&#34;</span>]
</span></span></code></pre></div><p>如果你想在不填充元素的情况下创建一个特定长度的切片，你可以使用内置的 <code>make()</code> 函数：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>oceans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>string</span>, <span style=color:#ae81ff>3</span>)
</span></span></code></pre></div><p>打印切片将得到如下输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span> <span style=color:#e6db74>&#34;&#34;</span>]
</span></span></code></pre></div><p>如果你想预先分配一定容量的内存，你可以向 <code>make()</code> 传入第三个参数：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>oceans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>string</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5</span>)
</span></span></code></pre></div><p>这将给分配一个长度为 <code>3</code> 容量为 <code>5</code> 的零切片。</p><p>你现在知道如何声明一个切片了。然而，这还没有解决我们之前在 <code>coral</code> 数组中遇到的错误。要在 <code>coral</code> 中使用 <code>append()</code> 函数，你首先要学会如何在一个数组中切出部分内容。</p><h2 id=将数组切片>将数组切片
<a class=anchor href=#%e5%b0%86%e6%95%b0%e7%bb%84%e5%88%87%e7%89%87>#</a></h2><p>通过使用索引号来确定开始和结束点，你可以调用一个数组内的一个分片值。这被称为对数组进行切分，你可以通过创建一个由冒号分隔的索引号范围来实现，其形式为 <code>[first_index:second_index]</code>。然而，需要注意的是，当对一个数组进行切分时，其结果是一个切片，而不是一个数组。</p><p>假设你想只打印 <code>coral</code> 数组的中间项，而不打印第一个和最后一个元素。你可以通过创建一个从索引 <code>1</code> 开始，在索引 <code>3</code> 之前结束的分片来实现：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>3</span>])
</span></span></code></pre></div><p>运行程序会产生以下结果：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>foliose</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>pillar</span> <span style=color:#a6e22e>coral</span>]
</span></span></code></pre></div><p>当创建一个切片时，如 <code>[1:3]</code>，第一个数字是切片开始的地方（包含），第二个数字是第一个数字和你想检索的元素总数之和：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>array</span>[<span style=color:#a6e22e>starting_index</span> : (<span style=color:#a6e22e>starting_index</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>length_of_slice</span>)]
</span></span></code></pre></div><p>在这个例子中，你调用第二个元素（或索引 1）作为起点，总共调用了两个元素。计算结果会是这样的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>array</span>[<span style=color:#ae81ff>1</span> : (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>)]
</span></span></code></pre></div><p>所以我们可以得到下面的代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>3</span>]
</span></span></code></pre></div><p>如果你想把数组的开始或结束作为切片的起点或终点，你可以省略 <code>array[first_index:second_index]</code> 语法中的一个数字。例如，如果你想打印数组 <code>coral</code> 的前三个元素&ndash;即 <code>"blue coral"</code>、<code>"foliose coral"</code> 和 <code>"pillar coral"</code> &ndash; 你可以这么做：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[:<span style=color:#ae81ff>3</span>])
</span></span></code></pre></div><p>将输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>blue</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>foliose</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>pillar</span> <span style=color:#a6e22e>coral</span>]
</span></span></code></pre></div><p>这就打印了数组的开头，在索引 <code>3</code> 之前就停止了。</p><p>如果要包括数组末尾的所有元素，你可以反过来使用这个语法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>coral</span>[<span style=color:#ae81ff>1</span>:])
</span></span></code></pre></div><p>这将得到以下切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>foliose</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>pillar</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>elkhorn</span> <span style=color:#a6e22e>coral</span>]
</span></span></code></pre></div><p>本节讨论了通过分片来调用数组的各个部分。接下来，你将学习如何使用分片将整个数组转换为切片。</p><h2 id=数组转换为切片>数组转换为切片
<a class=anchor href=#%e6%95%b0%e7%bb%84%e8%bd%ac%e6%8d%a2%e4%b8%ba%e5%88%87%e7%89%87>#</a></h2><p>如果你创建了一个数组，并决定需要它有一个可变的长度，你可以把它转换为一个切片。要将一个数组转换为切片，使用你在本教程的<strong>将数组切片</strong>步骤中学到的切片过程，只是这次要省略决定端点的两个索引号，从而选择整个切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coral</span>[:]
</span></span></code></pre></div><p>请记住，你不能将变量 <code>coral</code> 本身转换为一个切片，因为一旦在 Go 中定义了一个变量，它的类型就不能被改变。为了解决这个问题，你可以把数组的全部内容复制到一个新的变量中作为一个切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>coral</span>[:]
</span></span></code></pre></div><p>如果你打印 <code>coralSlice</code>，你将得到以下输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>blue</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>foliose</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>pillar</span> <span style=color:#a6e22e>coral</span> <span style=color:#a6e22e>elkhorn</span> <span style=color:#a6e22e>coral</span>]
</span></span></code></pre></div><p>现在，使用 <code>append()</code> 在新切片中添加 <code>black coral</code> 元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> = append(<span style=color:#a6e22e>coralSlice</span>, <span style=color:#e6db74>&#34;black coral&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>coralSlice</span>)
</span></span></code></pre></div><p>这将输出添加了新元素的切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;elkhorn coral&#34;</span> <span style=color:#e6db74>&#34;black coral&#34;</span>]
</span></span></code></pre></div><p>我们也可以在一条 <code>append()</code> 语句中添加一个以上的元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> = append(<span style=color:#a6e22e>coralSlice</span>, <span style=color:#e6db74>&#34;antipathes&#34;</span>, <span style=color:#e6db74>&#34;leptopsammia&#34;</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;elkhorn coral&#34;</span> <span style=color:#e6db74>&#34;black coral&#34;</span> <span style=color:#e6db74>&#34;antipathes&#34;</span> <span style=color:#e6db74>&#34;leptopsammia&#34;</span>]
</span></span></code></pre></div><p>要将两个切片组合在一起，可以使用 <code>append()</code>，但必须使用 <code>...</code> 的扩展语法来扩展第二个参数进行追加。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>moreCoral</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;massive coral&#34;</span>, <span style=color:#e6db74>&#34;soft coral&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> = append(<span style=color:#a6e22e>coralSlice</span>, <span style=color:#a6e22e>moreCoral</span><span style=color:#f92672>...</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;elkhorn coral&#34;</span> <span style=color:#e6db74>&#34;black coral&#34;</span> <span style=color:#e6db74>&#34;antipathes&#34;</span> <span style=color:#e6db74>&#34;leptopsammia&#34;</span> <span style=color:#e6db74>&#34;massive coral&#34;</span> <span style=color:#e6db74>&#34;soft coral&#34;</span>]    
</span></span></code></pre></div><p>现在你已经学会了如何将一个元素追加到你的切片中，我们再来看看如何删除一个元素。</p><h3 id=从切片中删除元素>从切片中删除元素
<a class=anchor href=#%e4%bb%8e%e5%88%87%e7%89%87%e4%b8%ad%e5%88%a0%e9%99%a4%e5%85%83%e7%b4%a0>#</a></h3><p>与其他语言不同，Go 没有提供任何内置函数来从切片中删除元素。需要通过分片的方式从切片中删除元素。</p><p>要删除一个元素，你必须切出该元素之前的元素，切出该元素之后的元素，然后将这两个新的切片加在一起，不包括你想删除的元素。</p><p>如果 <code>i</code> 是要删除的元素的索引，那么这个过程的格式看起来就像下面这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>slice</span> = append(<span style=color:#a6e22e>slice</span>[:<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>slice</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>:]<span style=color:#f92672>...</span>)
</span></span></code></pre></div><p>从 <code>coralSlice</code> 中，让我们删除 <code>"elkhorn coral"</code> 这个元素。它的索引为 <code>3</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;foliose coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>, <span style=color:#e6db74>&#34;black coral&#34;</span>, <span style=color:#e6db74>&#34;antipathes&#34;</span>, <span style=color:#e6db74>&#34;leptopsammia&#34;</span>, <span style=color:#e6db74>&#34;massive coral&#34;</span>, <span style=color:#e6db74>&#34;soft coral&#34;</span>}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> = append(<span style=color:#a6e22e>coralSlice</span>[:<span style=color:#ae81ff>3</span>], <span style=color:#a6e22e>coralSlice</span>[<span style=color:#ae81ff>4</span>:]<span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>coralSlice</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;black coral&#34;</span> <span style=color:#e6db74>&#34;antipathes&#34;</span> <span style=color:#e6db74>&#34;leptopsammia&#34;</span> <span style=color:#e6db74>&#34;massive coral&#34;</span> <span style=color:#e6db74>&#34;soft coral&#34;</span>]    
</span></span></code></pre></div><p>现在索引位置 <code>3</code> 的元素 <code>"elkhorn coral"</code>，已经不在我们的切片 <code>coralSlice</code> 中了。</p><p>我们也可以用同样的方法删除一个范围。假设我们不仅想删除 <code>"elkhorn coral"</code> 这一项，还想删除 <code>"black coral"</code> 和 <code>"antipathes"</code>。我们可以在表达式中使用一个范围来完成这个任务：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;blue coral&#34;</span>, <span style=color:#e6db74>&#34;foliose coral&#34;</span>, <span style=color:#e6db74>&#34;pillar coral&#34;</span>, <span style=color:#e6db74>&#34;elkhorn coral&#34;</span>, <span style=color:#e6db74>&#34;black coral&#34;</span>, <span style=color:#e6db74>&#34;antipathes&#34;</span>, <span style=color:#e6db74>&#34;leptopsammia&#34;</span>, <span style=color:#e6db74>&#34;massive coral&#34;</span>, <span style=color:#e6db74>&#34;soft coral&#34;</span>}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>coralSlice</span> = append(<span style=color:#a6e22e>coralSlice</span>[:<span style=color:#ae81ff>3</span>], <span style=color:#a6e22e>coralSlice</span>[<span style=color:#ae81ff>6</span>:]<span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%q\n&#34;</span>, <span style=color:#a6e22e>coralSlice</span>)
</span></span></code></pre></div><p>这段代码将从切片中取出索引 <code>3</code>、<code>4</code> 和 <code>5</code>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>[<span style=color:#e6db74>&#34;blue coral&#34;</span> <span style=color:#e6db74>&#34;foliose coral&#34;</span> <span style=color:#e6db74>&#34;pillar coral&#34;</span> <span style=color:#e6db74>&#34;leptopsammia&#34;</span> <span style=color:#e6db74>&#34;massive coral&#34;</span> <span style=color:#e6db74>&#34;soft coral&#34;</span>]
</span></span></code></pre></div><p>现在你知道了如何从一个切片中添加和删除元素，让我们来看看如何衡量一个切片所能容纳的数据量。</p><h2 id=使用-cap-获取切片的容量>使用 <code>cap()</code> 获取切片的容量
<a class=anchor href=#%e4%bd%bf%e7%94%a8-cap-%e8%8e%b7%e5%8f%96%e5%88%87%e7%89%87%e7%9a%84%e5%ae%b9%e9%87%8f>#</a></h2><p>由于切片的长度是可变的，<code>len()</code> 方法不是确定这种数据类型大小的最佳选择。相反，你可以使用 <code>cap()</code> 函数来了解一个切片的容量。这将告诉你一个切片可以容纳多少个元素，这是由已经为切片分配的内存的多少决定的。</p><p><strong>注意：</strong> 由于数组的长度和容量总是相同的，<code>cap()</code>函数对数组不起作用。</p><p><code>cap()</code> 的一个常见用途是创建一个有预设元素数量的切片，然后再填入元素。这就避免了潜在的不必要的内存分配，因为使用 <code>append()</code> 来添加超出当前分配容量的元素会导致内存重新分配。</p><p>让我们来看看这样的场景：我们想做一个数字列表，<code>0</code> 到 <code>3</code>。我们可以在一个循环中使用 <code>append()</code> 来完成，或者我们可以先预分配切片，然后使用 <code>cap()</code> 来循环填充这些数值。</p><p>首先，我们可以看看使用<code>append()</code>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>numbers</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>4</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>numbers</span> = append(<span style=color:#a6e22e>numbers</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>numbers</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>2</span> <span style=color:#ae81ff>3</span>]
</span></span></code></pre></div><p>在这个例子中，我们创建了一个切片，然后创建了一个 <code>for</code> 循环，这个循环会迭代四次。每次迭代都将循环变量 <code>i</code> 的当前值追加到 <code>numbers</code> 切片的索引中。然而，这可能会导致不必要的内存分配，使你的程序变慢。当添加到一个空切片时，每次你调用 append 时，程序都会检查切片的容量。如果添加的元素超过了这个容量，程序将分配额外的内存来存储它。这在你的程序中产生了额外的开销，并可能导致执行速度变慢。</p><p>现在让我们在不使用 <code>append()</code> 的情况下，通过预先分配一定的长度/容量来填充切片:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>numbers</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; cap(<span style=color:#a6e22e>numbers</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>numbers</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>numbers</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>Output</span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>2</span> <span style=color:#ae81ff>3</span>]
</span></span></code></pre></div><p>在这个例子中，我们使用 <code>make()</code> 来创建一个切片，并让它预先分配 <code>4</code> 个元素。然后我们在循环中使用 <code>cap()</code> 函数来迭代每个归零的元素，填充每个元素直到达到预先分配的容量。在每个循环中，我们将循环变量 <code>i</code> 的当前值放入 <code>numbers</code> 的索引中。</p><p>虽然 <code>append()</code> 和 <code>cap()</code> 在功能上是等同的，但 <code>cap()</code> 的例子避免了使用 <code>append()</code> 函数所需的额外的内存分配。</p><h2 id=构建多维切片>构建多维切片
<a class=anchor href=#%e6%9e%84%e5%bb%ba%e5%a4%9a%e7%bb%b4%e5%88%87%e7%89%87>#</a></h2><p>你也可以定义由切片作为元素的切片，每个括号内的列表都包含在父切片的大括号内。像这样的切片集合被称为多维切片。这些可以被认为是描述多维坐标的；例如，一个由五个切片组成的集合，每个切片有六个元素，可以代表一个水平长度为 5、垂直高度为 6 的二维网格。</p><p>让我们来看看下面这个多维切片：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>seaNames</span> <span style=color:#f92672>:=</span> [][]<span style=color:#66d9ef>string</span>{{<span style=color:#e6db74>&#34;shark&#34;</span>, <span style=color:#e6db74>&#34;octopus&#34;</span>, <span style=color:#e6db74>&#34;squid&#34;</span>, <span style=color:#e6db74>&#34;mantis shrimp&#34;</span>}, {<span style=color:#e6db74>&#34;Sammy&#34;</span>, <span style=color:#e6db74>&#34;Jesse&#34;</span>, <span style=color:#e6db74>&#34;Drew&#34;</span>, <span style=color:#e6db74>&#34;Jamie&#34;</span>}}    
</span></span></code></pre></div><p>要访问这个切片中的一个元素，我们必须使用多个索引，结构的每个维度都有一个索引：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>])    
</span></span></code></pre></div><p>在前面的代码中，我们首先打印索引为 <code>1</code> <code>0</code> 的元素，然后我们打印索引为 <code>0</code> <code>0</code> 的元素。这将产生以下结果：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>OutputSammy</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>shark</span>
</span></span></code></pre></div><p>以下是其余各个元素的索引值：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#e6db74>&#34;shark&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#e6db74>&#34;octopus&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>2</span>] = <span style=color:#e6db74>&#34;squid&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>3</span>] = <span style=color:#e6db74>&#34;mantis shrimp&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#e6db74>&#34;Sammy&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#e6db74>&#34;Jesse&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>2</span>] = <span style=color:#e6db74>&#34;Drew&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seaNames</span>[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>3</span>] = <span style=color:#e6db74>&#34;Jamie&#34;</span>
</span></span></code></pre></div><p>在处理多维切片时，重要的是要记住，你需要参考一个以上的索引号，以便访问嵌套切片中的特定元素。</p><h2 id=总结>总结
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h2><p>在本教程中，你学到了在 Go 中使用数组和切片的基础。通过多个练习来证明数组的长度是固定的，而切片的长度是可变的，并发现这种差异是如何影响这些数据结构的用途场景。</p><p>要继续学习 Go 中的数据结构，请查看我们的文章<a href=/How-To-Code-in-Go/docs/15-Understanding_Maps_in_Go/>理解 Go 中的 Map</a>，或探索整个<a href=https://gocn.github.io/How-To-Code-in-Go/>如何在 Go 中编码</a>系列。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#介绍>介绍</a></li><li><a href=#数组>数组</a></li><li><a href=#定义一个数组>定义一个数组</a></li><li><a href=#索引数组和切片>索引数组和切片</a></li><li><a href=#修改元素>修改元素</a></li><li><a href=#使用-len-计算元素个数>使用 <code>len</code> 计算元素个数</a></li><li><a href=#使用-append-追加元素>使用 <code>append()</code> 追加元素</a></li><li><a href=#切片>切片</a><ul><li><a href=#定义一个切片>定义一个切片</a></li></ul></li><li><a href=#将数组切片>将数组切片</a></li><li><a href=#数组转换为切片>数组转换为切片</a><ul><li><a href=#从切片中删除元素>从切片中删除元素</a></li></ul></li><li><a href=#使用-cap-获取切片的容量>使用 <code>cap()</code> 获取切片的容量</a></li><li><a href=#构建多维切片>构建多维切片</a></li><li><a href=#总结>总结</a></li></ul></nav></div></aside></main></body></html>